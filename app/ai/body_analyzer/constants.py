"""개선된 체형 분석을 위한 상수값 정의 (연구 기반)"""

# 상완-전완 비율 임계값 (전완/상완 기준) - 6명 실측 데이터 기반
# 평균: 0.870 ± 0.038 (범위: 0.832~0.909)
ARM_RATIO_THRESHOLDS = {
   "LONG": [0.0, 0.831],      # 상완 발달형: 전완/상완 0.831 이하 (평균-1SD)
   "AVG": [0.832, 0.908],     # 평균형: 전완/상완 0.832 ~ 0.908 (평균±1SD)
   "SHORT": [0.909, 1.0]      # 전완 발달형: 전완/상완 0.909 이상 (평균+1SD)
}

# 상체-하체 비율 임계값 (하체/상체 기준) - 6명 실측 데이터 기반
# 평균: 1.442 ± 0.048 (범위: 1.394~1.490)
UPPER_LOWER_RATIO_THRESHOLDS = {
   "LOWER": [0.0, 1.393],     # 하체 발달형: 하체/상체 1.393 이하 (평균-1SD)
   "AVG": [1.394, 1.490],     # 평균형: 하체/상체 1.394 ~ 1.490 (평균±1SD)
   "UPPER": [1.491, 2.0]      # 상체 발달형: 하체/상체 1.491 이상 (평균+1SD)
}

# 대퇴골-정강이 비율 임계값 (정강이/대퇴골 기준) - 6명 실측 데이터 기반
# 평균: 0.968 ± 0.069 (범위: 0.899~1.037)
FEMUR_TIBIA_RATIO_THRESHOLDS = {
   "FEMUR": [0.0, 0.898],     # 대퇴골 발달형: 정강이/대퇴골 0.898 이하 (평균-1SD)
   "AVG": [0.899, 1.037],     # 평균형: 정강이/대퇴골 0.899 ~ 1.037 (평균±1SD)
   "TIBIA": [1.038, 2.0]      # 정강이 발달형: 정강이/대퇴골 1.038 이상 (평균+1SD)
}

# 고관절-신장 비율 임계값 (고관절 너비/신장 기준) - 6명 실측 데이터 기반
# 평균: 0.150 ± 0.011 (범위: 0.140~0.161)
HIP_HEIGHT_RATIO_THRESHOLDS = {
   "NARROW": [0.0, 0.139],    # 고관절 슬림형: 고관절/신장 0.139 이하 (평균-1SD)
   "AVG": [0.140, 0.161],     # 평균형: 고관절/신장 0.140 ~ 0.161 (평균±1SD)
   "WIDE": [0.162, 0.30]      # 고관절 확장형: 고관절/신장 0.162 이상 (평균+1SD)
}

# 어깨-신장 비율 임계값 (어깨 너비/신장 기준) - 6명 실측 데이터 기반 (보너스)
# 평균: 0.226 ± 0.019 (범위: 0.207~0.245)
SHOULDER_HEIGHT_RATIO_THRESHOLDS = {
   "NARROW": [0.0, 0.206],    # 어깨 슬림형: 어깨/신장 0.206 이하 (평균-1SD)
   "AVG": [0.207, 0.245],     # 평균형: 어깨/신장 0.207 ~ 0.245 (평균±1SD)
   "WIDE": [0.246, 0.35]      # 어깨 확장형: 어깨/신장 0.246 이상 (평균+1SD)
}

# 체형 분류 결과 텍스트
BODY_TYPE_TEXT = {
    "arm": {
        "LONG": "상완 비율 발달형",
        "AVG": "팔 비율 평균형",
        "SHORT": "전완 비율 발달형"
    },
    "upper_lower": {
        "UPPER": "상체 길이 발달형",
        "AVG": "상하체 비율 평균형",
        "LOWER": "하체 길이 발달형"
    },
    "femur_tibia": {
        "FEMUR": "대퇴골 길이 발달형",
        "AVG": "다리 비율 평균형",
        "TIBIA": "정강이 길이 발달형"
    },
    "hip": {
        "WIDE": "고관절 너비 확장형",
        "AVG": "고관절 너비 평균형",
        "NARROW": "고관절 너비 슬림형"
    },
    "shoulder": {
        "WIDE": "어깨 확장형",
        "AVG": "어깨 너비 평균형",
        "NARROW": "어깨 슬림형"
    }
}

# 성별별 평균 비율 (참고용)
AVERAGE_RATIOS = {
    "male": {
        "forearm_to_upper_arm": 0.81,
        "lower_to_upper_body": 1.20,
        "tibia_to_femur": 0.87,
        "hip_to_height": 0.195,
        "shoulder_to_height": 0.23
    },
    "female": {
        "forearm_to_upper_arm": 0.81,
        "lower_to_upper_body": 1.20,
        "tibia_to_femur": 0.87,
        "hip_to_height": 0.205,
        "shoulder_to_height": 0.21
    }
}

# 측정 신뢰도 임계값
MEASUREMENT_RELIABILITY = {
    "min_confidence": 0.7,        # 최소 신뢰도
    "symmetry_threshold": 0.10,   # 좌우 대칭 허용 오차 (10%)
    "ratio_bounds": {             # 비율 유효성 검사
        "forearm_upper_arm": [0.5, 1.2],
        "tibia_femur": [0.6, 1.3],
        "lower_upper_body": [0.8, 1.8],
        "hip_height": [0.10, 0.35],
        "shoulder_height": [0.15, 0.35]
    }
}

# 연령별 보정 계수 (선택적 적용)
AGE_CORRECTION = {
    "child": (0, 12),      # 성장기
    "teen": (13, 19),      # 청소년기
    "adult": (20, 59),     # 성인
    "elderly": (60, 100)   # 고령
}
