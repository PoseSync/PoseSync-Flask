"""개선된 체형 분석을 위한 상수값 정의 (연구 기반)"""


# 상완-전완 비율 임계값 (전완/상완 기준) - 7명 실측 데이터 기반
# 평균: 0.874 ± 0.037 (범위: 0.838~0.911)
ARM_RATIO_THRESHOLDS = {
    "LONG": [0.0, 0.837],      # 상완 발달형: 전완/상완 0.837 이하 (평균-1SD)
    "AVG": [0.838, 0.911],     # 평균형: 전완/상완 0.838 ~ 0.911 (평균±1SD)
    "SHORT": [0.912, 1.0]      # 전완 발달형: 전완/상완 0.912 이상 (평균+1SD)
}

# 상체-하체 비율 임계값 (하체/상체 기준) - 7명 실측 데이터 기반
# 평균: 1.409 ± 0.092 (범위: 1.318~1.501)
UPPER_LOWER_RATIO_THRESHOLDS = {
    "LOWER": [0.0, 1.318],     # 하체 발달형: 하체/상체 1.318 이하 (평균-1SD)
    "AVG": [1.319, 1.501],     # 평균형: 하체/상체 1.319 ~ 1.501 (평균±1SD)
    "UPPER": [1.502, 2.0]      # 상체 발달형: 하체/상체 1.502 이상 (평균+1SD)
}

# 대퇴골-정강이 비율 임계값 (정강이/대퇴골 기준) - 7명 실측 데이터 기반
# 평균: 0.995 ± 0.093 (범위: 0.903~1.088)
FEMUR_TIBIA_RATIO_THRESHOLDS = {
    "FEMUR": [0.0, 0.902],     # 대퇴골 발달형: 정강이/대퇴골 0.902 이하 (평균-1SD)
    "AVG": [0.903, 1.088],     # 평균형: 정강이/대퇴골 0.903 ~ 1.088 (평균±1SD)
    "TIBIA": [1.089, 2.0]      # 정강이 발달형: 정강이/대퇴골 1.089 이상 (평균+1SD)
}

# 고관절-신장 비율 임계값 (고관절 너비/신장 기준) - 7명 실측 데이터 기반
# 평균: 0.150 ± 0.010 (범위: 0.141~0.160)
HIP_HEIGHT_RATIO_THRESHOLDS = {
    "NARROW": [0.0, 0.140],    # 고관절 슬림형: 고관절/신장 0.140 이하 (평균-1SD)
    "AVG": [0.141, 0.160],     # 평균형: 고관절/신장 0.141 ~ 0.160 (평균±1SD)
    "WIDE": [0.161, 0.30]      # 고관절 확장형: 고관절/신장 0.161 이상 (평균+1SD)
}

# 어깨-신장 비율 임계값 (어깨 너비/신장 기준) - 7명 실측 데이터 기반
# 평균: 0.229 ± 0.020 (범위: 0.210~0.250)
SHOULDER_HEIGHT_RATIO_THRESHOLDS = {
    "NARROW": [0.0, 0.209],    # 어깨 슬림형: 어깨/신장 0.209 이하 (평균-1SD)
    "AVG": [0.210, 0.250],     # 평균형: 어깨/신장 0.210 ~ 0.250 (평균±1SD)
    "WIDE": [0.251, 0.35]      # 어깨 확장형: 어깨/신장 0.251 이상 (평균+1SD)

}

# 체형 분류 결과 텍스트
BODY_TYPE_TEXT = {
    "arm": {
        "LONG": "상완 비율 발달형",
        "AVG": "팔 비율 평균형",
        "SHORT": "전완 비율 발달형"
    },
    "upper_lower": {
        "UPPER": "상체 길이 발달형",
        "AVG": "상하체 비율 평균형",
        "LOWER": "하체 길이 발달형"
    },
    "femur_tibia": {
        "FEMUR": "대퇴골 길이 발달형",
        "AVG": "다리 비율 평균형",
        "TIBIA": "정강이 길이 발달형"
    },
    "hip": {
        "WIDE": "고관절 너비 확장형",
        "AVG": "고관절 너비 평균형",
        "NARROW": "고관절 너비 슬림형"
    },
    "shoulder": {
        "WIDE": "어깨 확장형",
        "AVG": "어깨 너비 평균형",
        "NARROW": "어깨 슬림형"
    }
}

# 성별별 평균 비율 (참고용)
AVERAGE_RATIOS = {
    "male": {
        "forearm_to_upper_arm": 0.81,
        "lower_to_upper_body": 1.20,
        "tibia_to_femur": 0.87,
        "hip_to_height": 0.195,
        "shoulder_to_height": 0.23
    },
    "female": {
        "forearm_to_upper_arm": 0.81,
        "lower_to_upper_body": 1.20,
        "tibia_to_femur": 0.87,
        "hip_to_height": 0.205,
        "shoulder_to_height": 0.21
    }
}

# 측정 신뢰도 임계값
MEASUREMENT_RELIABILITY = {
    "min_confidence": 0.7,        # 최소 신뢰도
    "symmetry_threshold": 0.10,   # 좌우 대칭 허용 오차 (10%)
    "ratio_bounds": {             # 비율 유효성 검사 (7명 실측 데이터 기반 업데이트)
        "forearm_upper_arm": [0.75, 1.0],      # 0.838~0.911 범위 기반
        "tibia_femur": [0.85, 1.2],            # 0.903~1.088 범위 기반
        "lower_upper_body": [1.2, 1.6],        # 1.319~1.501 범위 기반
        "hip_height": [0.12, 0.18],            # 0.141~0.160 범위 기반
        "shoulder_height": [0.18, 0.28]        # 0.210~0.250 범위 기반
    }
}

# 연령별 보정 계수 (선택적 적용)
AGE_CORRECTION = {
    "child": (0, 12),      # 성장기
    "teen": (13, 19),      # 청소년기
    "adult": (20, 59),     # 성인
    "elderly": (60, 100)   # 고령
}
